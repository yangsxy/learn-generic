## 泛型

1. 泛型在java中仍然有用，但是没有想象中那么有用；
1. 泛型被当做第二类型处理，某些上下文环境中，不能使用；
1. 泛型只能在静态类型检查期间才会出现，在此之后，程序中所有泛型类型将被擦除，且替换为非泛型时上界；

## 擦除的目的

1. 泛化的代码能使用非泛化的类库（迁移兼容性）；
1. 类库应该不具备探测其他类库是否使用泛型；
1. 擦除是目前相当的唯一能解决此问题的途径；

## 擦除的问题
1. 【引用】擦除主要的正当理由是从非泛化代码到泛化代码的抓变过程，以及在不破坏现有类库的情况下，将泛化融入java语言。
擦除使得现有的非泛化客户端代码能够在不改变的情况下继续使用，直到客户端准备好用泛化重写这些代码。这是一个崇高的动机，因为它不会突然间破坏所有现有代码。
1. 擦除不能显式地运用于运行时类型操作，如：new、instanceof等。丢失了执行某些操作的能力。
```java
if (arg instanceof Long) // error
T var = new T(); // error
T[] array = new T[SIZE]; // error
T[] array = (T[]) new Object[SIZE]; // warn
```
1. 对象进入和离开方法地点

javap -c aa.class

边界是发生动作的地方

## 通配符

协变、逆变、无界通配符

List list;
List<?> list1;
List<? extend Object> list2;
List<? super Object> list3;

泛型的目的是用来创建更通用的代码，而类型安全却是其带来的副作用。